<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>ltdbtool</title><meta name="generator" content="DocBook XSL Stylesheets V1.75.2"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="refentry" title="ltdbtool"><a name="ltdbtool.1"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>ltdbtool &#8212; handle ctdb's local tdb copies </p></div><div class="refsynopsisdiv" title="Synopsis"><h2>Synopsis</h2><div class="cmdsynopsis"><p><code class="command">ltdbtool [OPTIONS] COMMAND</code> </p></div></div><div class="refsect1" title="DESCRIPTION"><a name="id417069"></a><h2>DESCRIPTION</h2><p>
      ltdbtool is a utility to cope with ctdb's local tdb copies (LTDBs)
      without connecting to a ctdb daemon.
    </p><p>It can be used to
    </p><div class="itemizedlist"><ul class="itemizedlist" type="disc" compact><li class="listitem"><p>
	  dump the contents of a LTDB, optionally printing the ctdb
	  record header information,
	</p></li><li class="listitem"><p>
	  convert between an LTDB and a non-clustered tdb
	  by adding or removing ctdb headers and
	</p></li><li class="listitem"><p>convert between 64 and 32 bit LTDBs where the ctdb record
	headers differ by 4 bytes of padding.
	</p></li></ul></div><p>
    </p></div><div class="refsect1" title="COMMANDS"><a name="id417114"></a><h2>COMMANDS</h2><div class="variablelist"><dl><dt><span class="term">help</span></dt><dd><p>
	    Print a help text.
	  </p></dd><dt><span class="term">dump &lt;IDB&gt;</span></dt><dd><p>
	    Dump the contents of a LTDB file to standard output in a
	    human-readable format.
	  </p></dd><dt><span class="term">convert &lt;IDB&gt; &lt;ODB&gt;</span></dt><dd><p>
	    Make a copy of a LTDB optionally adding or removing ctdb headers.
	  </p></dd></dl></div></div><div class="refsect1" title="OPTIONS"><a name="id417160"></a><h2>OPTIONS</h2><div class="variablelist"><dl><dt><span class="term">-p</span></dt><dd><p>
	    Dump with header information, similar to "ctdb catdb".
	  </p></dd><dt><span class="term">-s {0|32|64}</span></dt><dd><p>
	    Specify how to determine the ctdb record header size
	    for the input database:
	    </p><div class="variablelist"><dl><dt><span class="term">0</span></dt><dd><p>no ctdb header</p></dd><dt><span class="term">32</span></dt><dd><p>ctdb header size of a 32 bit system (20 bytes)</p></dd><dt><span class="term">64</span></dt><dd><p>ctdb header size of a 64 bit system (24 bytes)</p></dd></dl></div><p>
	    The default is 32 or 64 depending on the system architecture.
	  </p></dd><dt><span class="term">-o {0|32|64}</span></dt><dd><p>
	    Specify how to determine the ctdb record header size
	    for the output database, see -s
	  </p></dd><dt><span class="term">-S &lt;SIZE&gt;</span></dt><dd><p>
	    Explicitly specify the ctdb record header size of the input database in bytes.
	  </p></dd><dt><span class="term">-O &lt;SIZE&gt;</span></dt><dd><p>
	    Explicitly specify the ctdb record header size for the output database in bytes.
	  </p></dd><dt><span class="term">-h</span></dt><dd><p>
            Print a help text.
	  </p></dd></dl></div></div><div class="refsect1" title="EXAMPLES"><a name="id417288"></a><h2>EXAMPLES</h2><p>
      Print a local tdb in "tdbdump" style:
    </p><pre class="screen">
      ltdbtool dump idmap2.tdb.0
    </pre><p>
      Print a local tdb with header information similar to "ctdb catdb":
    </p><pre class="screen">
      ltdbtool dump -p idmap2.tdb.0
    </pre><p>
      Strip the ctdb headers from records:
    </p><pre class="screen">
      ltdbtool convert -o0 idmap2.tdb.0 idmap.tdb
    </pre><p>
      Strip 64 bit ctdb headers from records, running on i386:
    </p><pre class="screen">
      ltdbtool convert -s64 -o0 idmap2.tdb.0 idmap.tdb
    </pre><p>
      Strip the ctdb headers from records by piping through tdbrestore:
    </p><pre class="screen">
      ltdbtool dump idmap2.tdb.0 | tdbrestore idmap.tdb
    </pre><p>
      Convert a local tdb from a 64 bit system for usage on a 32 bit system:
    </p><pre class="screen">
      ltdbtool convert -s64 -o32 idmap2.tdb.0 idmap2.tdb.1
    </pre><p>
      Add a default header:
    </p><pre class="screen">
      ltdbtool convert -s0 idmap.tdb idmap2.tdb.0
    </pre></div><div class="refsect1" title="SEE ALSO"><a name="id417355"></a><h2>SEE ALSO</h2><p>
      ctdbd(1), ctdb(1), tdbdump(1), tdbrestore(1),
      <a class="ulink" href="http://ctdb.samba.org/" target="_top">http://ctdb.samba.org/</a>
    </p></div><div class="refsect1" title="COPYRIGHT/LICENSE"><a name="id417368"></a><h2>COPYRIGHT/LICENSE</h2><div class="literallayout"><p><br>
Copyright (C) Gregor Beck 2011<br>
Copyright (C) Michael Adam 2011<br>
<br>
This program is free software; you can redistribute it and/or modify<br>
it under the terms of the GNU General Public License as published by<br>
the Free Software Foundation; either version 3 of the License, or (at<br>
your option) any later version.<br>
<br>
This program is distributed in the hope that it will be useful, but<br>
WITHOUT ANY WARRANTY; without even the implied warranty of<br>
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU<br>
General Public License for more details.<br>
<br>
You should have received a copy of the GNU General Public License<br>
along with this program; if not, see http://www.gnu.org/licenses/.<br>
</p></div></div></div></body></html>
